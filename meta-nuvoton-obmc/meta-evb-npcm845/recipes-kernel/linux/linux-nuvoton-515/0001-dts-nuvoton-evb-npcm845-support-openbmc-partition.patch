From 6d2b30ba6385357d8a6f08cc53c2f9bcb36bf242 Mon Sep 17 00:00:00 2001
From: Tim Lee <chli30@nuvoton.com>
Date: Mon, 7 Apr 2025 14:57:37 +0800
Subject: [PATCH] dts: nuvoton: evb-npcm845: support openbmc partition

Upstream-Status: Inappropriate [oe-specific]

Signed-off-by: Tim Lee <chli30@nuvoton.com>
---
 .../boot/dts/nuvoton/nuvoton-npcm845-evb.dts  | 63 +++++++------------
 1 file changed, 22 insertions(+), 41 deletions(-)

diff --git a/arch/arm64/boot/dts/nuvoton/nuvoton-npcm845-evb.dts b/arch/arm64/boot/dts/nuvoton/nuvoton-npcm845-evb.dts
index c0adfff31fb5..cd1f323cffc3 100644
--- a/arch/arm64/boot/dts/nuvoton/nuvoton-npcm845-evb.dts
+++ b/arch/arm64/boot/dts/nuvoton/nuvoton-npcm845-evb.dts
@@ -187,48 +187,29 @@ partitions@80000000 {
 			compatible = "fixed-partitions";
 			#address-cells = <1>;
 			#size-cells = <1>;
-			bbuboot1@0 {
-				label = "bb-uboot-1";
-				reg = <0x0000000 0x80000>;
-				read-only;
-				};
-			bbuboot2@80000 {
-				label = "bb-uboot-2";
-				reg = <0x0080000 0x80000>;
-				read-only;
-				};
-			envparam@100000 {
-				label = "env-param";
-				reg = <0x0100000 0x40000>;
-				read-only;
-				};
-			spare@140000 {
-				label = "spare";
-				reg = <0x0140000 0xC0000>;
-				};
-			kernel@200000 {
+			bmc@0 {
+				label = "bmc";
+				reg = <0x00000000 0x04000000>;
+			};
+			u-boot@0 {
+				label = "u-boot";
+				reg = <0x00000000 0x007C0000>;
+			};
+			u-boot-env@7c0000 {
+				label = "u-boot-env";
+				reg = <0x007C0000 0x00040000>;
+			};
+			kernel@800000 {
 				label = "kernel";
-				reg = <0x0200000 0x400000>;
-				};
-			rootfs@600000 {
-				label = "rootfs";
-				reg = <0x0600000 0x700000>;
-				};
-			spare1@D00000 {
-				label = "spare1";
-				reg = <0x0D00000 0x200000>;
-				};
-			spare2@0F00000 {
-				label = "spare2";
-				reg = <0x0F00000 0x200000>;
-				};
-			spare3@1100000 {
-				label = "spare3";
-				reg = <0x1100000 0x200000>;
-				};
-			spare4@1300000 {
-				label = "spare4";
-				reg = <0x1300000 0x0>;
+				reg = <0x00800000 0x00800000>;
+			};
+			rofs@1000000 {
+				label = "rofs";
+				reg = <0x01000000 0x02C00000>;
+			};
+			rwfs@3c00000 {
+				label = "rwfs";
+				reg = <0x03C00000 0x00400000>;
 			};
 		};
 	};
-- 
2.34.1

